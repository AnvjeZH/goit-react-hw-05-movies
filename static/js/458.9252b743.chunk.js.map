{"version":3,"file":"static/js/458.9252b743.chunk.js","mappings":"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","sources":["components/FoundMoviesList/FoundMoviesList.js","components/SearchBox/SearchBox.js","pages/Movies/Movies.js","services/api.js"],"sourcesContent":["import { Link } from 'react-router-dom';\n\nconst FoundMoviesList = ({ movies, location,  }) => {\n  return (\n    <ul>\n      {movies.map(({ id, title }) => (\n        <Link key={id} to={`${id}`} state={{from: location}}>\n          <li>{title}</li>\n        </Link>\n      ))}\n    </ul>\n  );\n};\n\nexport default FoundMoviesList;\n","const SearchBox = ({ onSearch, onChange, query }) => {\n  return (\n    <form onSubmit={onSearch}>\n      <input type=\"text\" name=\"query\" onChange={(e) => onChange(e.target.value)} value={query}/>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nexport default SearchBox;\n","import { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { getSearchMovie } from 'services/api';\nimport FoundMoviesList from 'components/FoundMoviesList/FoundMoviesList';\nimport SearchBox from 'components/SearchBox/SearchBox';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setisLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation()\n\n  useEffect(() => {\n    if (query === '') return;\n\n    async function fetchQueryMovies(query) {\n      try {\n        setisLoading(true);\n        const foundMovies = await getSearchMovie(query);\n        setMovies(foundMovies);\n      } catch (error) {\n        setError(true);\n        console.error(error);\n      } finally {\n        setisLoading(false);\n      }\n    }\n    fetchQueryMovies(query);\n  }, [query]);\n\n  const filteredMovies = movies.filter(movie =>\n    movie.title.toLowerCase().includes(query.toLowerCase())\n  );\n\n  const updateQueryString = (query) => {\n    const nextParams = query !== \"\" ? { query } : {};\n    setSearchParams(nextParams);\n  };\n\n  const handleSearch = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const inputQuery = form.elements.query.value;\n    if (inputQuery.trim() === '') {\n      alert('Please enter a search query.');\n      return;\n    }\n    if(inputQuery === query) return\n\n    setSearchParams({ query: inputQuery });\n  };\n\n\n\n  return (\n    <>\n      <SearchBox onSearch={handleSearch} onChange={updateQueryString} query={query}/>\n\n      {error && <div>Sorry, but we have errors. Try again</div>}\n\n      {isLoading && <div>Wait...</div>}\n\n      {query && (\n        <>\n          {filteredMovies.length > 0 ? (\n            <FoundMoviesList movies={filteredMovies} location={location} />\n          ) : (\n            <div>No movies found with the your request.</div>\n          )}\n        </>\n      )}\n    </>\n  );\n};\nexport default Movies;\n\n\n","import axios from 'axios';\n\nconst defaultOpts = {\n  method: 'GET',\n  params: { language: 'en-US' },\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMTU5YmY3MWFiYzM0NzBmNDVkMDdjOGI1ZDNhODM5YiIsInN1YiI6IjY0ZGJhZWI2MDAxYmJkMDQxYWYzNDRmNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QPxM_-Q55UeA1hwkxgY0DaHePNMMzHQ6--rME54wr20',\n  },\n};\n\nexport async function getTrendingMovies() {\n  const options = {\n    ...defaultOpts, url: 'https://api.themoviedb.org/3/trending/movie/day'\n  };\n\n  try {\n    const response = await axios(options);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getMovieDetails(movieId) {\n  const options = {\n    ...defaultOpts, url: `https://api.themoviedb.org/3/movie/${movieId}`,\n  };\n\n  try {\n    const response = await axios(options);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getImagesConfig() {\n  const options = {\n    ...defaultOpts, url: 'https://api.themoviedb.org/3/configuration',\n  };\n\n  try {\n    const response = await axios(options);\n    return response.data.images;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getCredits(movieId) {\n  const options = {\n    ...defaultOpts, url: `https://api.themoviedb.org/3/movie/${movieId}}/credits`,\n  }\n  try {\n    const response = await axios(options)\n    return response.data.cast\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getReviews(movieId) {\nconst options = {\n...defaultOpts, url: `https://api.themoviedb.org/3/movie/${movieId}/reviews`,\n};\ntry {\n  const response = await axios(options);\n  return response.data.results\n} catch (error) {\n  console.error(error);\n}\n}\n\nexport async function getSearchMovie(searchQuery) {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/search/movie',\n    params: {query: searchQuery, include_adult: 'false', language: 'en-US', page: '1'},\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMTU5YmY3MWFiYzM0NzBmNDVkMDdjOGI1ZDNhODM5YiIsInN1YiI6IjY0ZGJhZWI2MDAxYmJkMDQxYWYzNDRmNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QPxM_-Q55UeA1hwkxgY0DaHePNMMzHQ6--rME54wr20'\n    }\n  };\n\n  try {\n    const response = await axios(options)\n    return response.data.results\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["movies","location","map","id","title","to","state","from","onSearch","onChange","query","onSubmit","type","name","e","target","value","useState","setMovies","isLoading","setisLoading","error","setError","useSearchParams","searchParams","setSearchParams","get","useLocation","useEffect","getSearchMovie","foundMovies","console","fetchQueryMovies","filteredMovies","filter","movie","toLowerCase","includes","preventDefault","inputQuery","currentTarget","elements","trim","alert","length","defaultOpts","method","params","language","headers","accept","Authorization","getTrendingMovies","options","url","axios","response","data","getMovieDetails","movieId","getImagesConfig","images","getCredits","cast","getReviews","results","searchQuery","include_adult","page"],"sourceRoot":""}