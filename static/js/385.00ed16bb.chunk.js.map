{"version":3,"file":"static/js/385.00ed16bb.chunk.js","mappings":"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","sources":["pages/MoviesDetails/MoviesDetails.js","services/api.js"],"sourcesContent":["import { useEffect, useState, useRef, Suspense } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieDetails, getImagesConfig } from 'services/api';\n\nconst MoviesDetails = () => {\n  const [movie, setMovie] = useState({});\n  const [imageConfig, setImageConfig] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation()\n  const backLinkRef = useRef(location.state?.from || '/')\n\n  useEffect(() => {\n    async function fetchMovieDetails() {\n      try {\n        const img = await getImagesConfig();\n        setImageConfig(img);\n        const data = await getMovieDetails(movieId);\n        setMovie(data);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    fetchMovieDetails();\n  }, [movieId]);\n\n\n  return (\n    <>\n    <Link to={backLinkRef.current}>Back</Link>\n      {movie && (\n        <>\n          <img\n            src={`${imageConfig.base_url}w500${movie.poster_path}`}\n            alt={movie.title}\n            width=\"300px\"\n            height=\"300px\"\n          />\n          <h2>{movie.title}</h2>\n          <p>User Score: {movie.vote_average}</p>\n          <h3>Overview</h3>\n          <p>{movie.overview}</p>\n          <h4>Genres</h4>\n          <p>{movie.genres?.map(genre => genre.name).join(' ')}</p>\n          <h2>Additional information</h2>\n          <ul>\n            <li>\n              <Link to=\"cast\">Cast</Link>\n            </li>\n            <li>\n              <Link to=\"reviews\">Reviews</Link>\n            </li>\n          </ul>\n          <Suspense fallback={<div>Loading subpage...</div>}>\n          <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MoviesDetails;\n","import axios from 'axios';\n\nconst defaultOpts = {\n  method: 'GET',\n  params: { language: 'en-US' },\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMTU5YmY3MWFiYzM0NzBmNDVkMDdjOGI1ZDNhODM5YiIsInN1YiI6IjY0ZGJhZWI2MDAxYmJkMDQxYWYzNDRmNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QPxM_-Q55UeA1hwkxgY0DaHePNMMzHQ6--rME54wr20',\n  },\n};\n\nexport async function getTrendingMovies() {\n  const options = {\n    ...defaultOpts, url: 'https://api.themoviedb.org/3/trending/movie/day'\n  };\n\n  try {\n    const response = await axios(options);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getMovieDetails(movieId) {\n  const options = {\n    ...defaultOpts, url: `https://api.themoviedb.org/3/movie/${movieId}`,\n  };\n\n  try {\n    const response = await axios(options);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getImagesConfig() {\n  const options = {\n    ...defaultOpts, url: 'https://api.themoviedb.org/3/configuration',\n  };\n\n  try {\n    const response = await axios(options);\n    return response.data.images;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getCredits(movieId) {\n  const options = {\n    ...defaultOpts, url: `https://api.themoviedb.org/3/movie/${movieId}}/credits`,\n  }\n  try {\n    const response = await axios(options)\n    return response.data.cast\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getReviews(movieId) {\nconst options = {\n...defaultOpts, url: `https://api.themoviedb.org/3/movie/${movieId}/reviews`,\n};\ntry {\n  const response = await axios(options);\n  return response.data.results\n} catch (error) {\n  console.error(error);\n}\n}\n\nexport async function getSearchMovie(searchQuery) {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/search/movie',\n    params: {query: searchQuery, include_adult: 'false', language: 'en-US', page: '1'},\n    headers: {\n      accept: 'application/json',\n      Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMTU5YmY3MWFiYzM0NzBmNDVkMDdjOGI1ZDNhODM5YiIsInN1YiI6IjY0ZGJhZWI2MDAxYmJkMDQxYWYzNDRmNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.QPxM_-Q55UeA1hwkxgY0DaHePNMMzHQ6--rME54wr20'\n    }\n  };\n\n  try {\n    const response = await axios(options)\n    return response.data.results\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["useState","movie","setMovie","imageConfig","setImageConfig","movieId","useParams","location","useLocation","backLinkRef","useRef","state","from","useEffect","getImagesConfig","img","getMovieDetails","data","console","error","fetchMovieDetails","to","current","src","base_url","poster_path","alt","title","width","height","vote_average","overview","genres","map","genre","name","join","Suspense","fallback","defaultOpts","method","params","language","headers","accept","Authorization","getTrendingMovies","options","url","axios","response","images","getCredits","cast","getReviews","results","getSearchMovie","searchQuery","query","include_adult","page"],"sourceRoot":""}